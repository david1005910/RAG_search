<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LangGraph RAG Workflow</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0; padding: 20px; min-height: 100vh;
        }
        .container {
            max-width: 900px; margin: 0 auto; background: white;
            border-radius: 16px; box-shadow: 0 20px 60px rgba(0,0,0,0.3); padding: 40px;
        }
        h1 { text-align: center; color: #1e293b; margin-bottom: 10px; }
        .subtitle { text-align: center; color: #64748b; margin-bottom: 30px; }
        .mermaid {
            display: flex; justify-content: center; background: #f8fafc;
            border-radius: 12px; padding: 30px; margin: 20px 0;
        }
        .steps {
            margin-top: 30px; padding: 20px; background: #f1f5f9; border-radius: 12px;
        }
        .step {
            display: flex; align-items: center; padding: 12px 0;
            border-bottom: 1px solid #e2e8f0;
        }
        .step:last-child { border-bottom: none; }
        .step-num {
            width: 30px; height: 30px; background: #0ea5e9; color: white;
            border-radius: 50%; display: flex; align-items: center;
            justify-content: center; font-weight: bold; margin-right: 15px;
        }
        .step-content h3 { margin: 0; color: #1e293b; }
        .step-content p { margin: 5px 0 0; color: #64748b; font-size: 14px; }
        .footer { text-align: center; margin-top: 30px; color: #94a3b8; font-size: 14px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”„ LangGraph RAG Workflow</h1>
        <p class="subtitle">Medical/Scientific Paper RAG System</p>
        <div class="mermaid">
---
config:
  flowchart:
    curve: linear
---
graph TD;
	__start__([<p>__start__</p>]):::first
	process_query(process_query)
	retrieve_documents(retrieve_documents)
	create_context(create_context)
	generate_answer(generate_answer)
	__end__([<p>__end__</p>]):::last
	__start__ --> process_query;
	create_context --> generate_answer;
	process_query --> retrieve_documents;
	retrieve_documents --> create_context;
	generate_answer --> __end__;
	classDef default fill:#f2f0ff,line-height:1.2
	classDef first fill-opacity:0
	classDef last fill:#bfb6fc

        </div>
        <div class="steps">
            <div class="step">
                <div class="step-num">1</div>
                <div class="step-content">
                    <h3>process_query</h3>
                    <p>ì‚¬ìš©ì ì¿¼ë¦¬ ì²˜ë¦¬ ë° ì–¸ì–´ ê°ì§€, í•„ìš”ì‹œ ì˜ì–´ë¡œ ë²ˆì—­</p>
                </div>
            </div>
            <div class="step">
                <div class="step-num">2</div>
                <div class="step-content">
                    <h3>retrieve_documents</h3>
                    <p>ë²¡í„° DBì—ì„œ ê´€ë ¨ ë¬¸ì„œ ê²€ìƒ‰ (FAISS/Qdrant)</p>
                </div>
            </div>
            <div class="step">
                <div class="step-num">3</div>
                <div class="step-content">
                    <h3>create_context</h3>
                    <p>ê²€ìƒ‰ëœ ë¬¸ì„œë¡œë¶€í„° ì»¨í…ìŠ¤íŠ¸ êµ¬ì„±</p>
                </div>
            </div>
            <div class="step">
                <div class="step-num">4</div>
                <div class="step-content">
                    <h3>generate_answer</h3>
                    <p>LLM (GPT-3.5)ì„ ì‚¬ìš©í•˜ì—¬ ìµœì¢… ë‹µë³€ ìƒì„±</p>
                </div>
            </div>
        </div>
        <div class="footer">
            <p>ğŸ“Š LangSmith: <a href="https://smith.langchain.com">smith.langchain.com</a></p>
        </div>
    </div>
    <script>mermaid.initialize({ startOnLoad: true, theme: 'base' });</script>
</body>
</html>